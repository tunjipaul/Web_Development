<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Different Type of Events</title>
     <style>
        .highlight { background-color: yellow; }
        .box { 
            width: 200px; 
            height: 100px; 
            border: 2px solid black; 
            margin: 10px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Different types of Events</h1>
    <!--Mouse events-->
    <div class="box" id="mouseBox" onmouseover="handleMouseOver()" onmouseout="handleMouseOut()">Hover Over me!</div>
    <!--KeyBoard Events-->
    <div>
        <label for="">Type something:</label>
        <input type="text" id="textInput" onkeyup="handleKeyPress()" onkeydown="handleFocus()" onblur="handleBlur()">
    </div>
    <div id="keyOutput"></div>
    <!--Form Events-->
    <form onsubmit="handleSubmit(event)">
    <label for="">Email:</label>
    <input type="email"  id="emailInput" required>
    <button type="submit">Submit</button>
    </form>
    <!--Change Events-->
    <div>
        <label for="">Choose a color:</label>
        <select id="colorSelect" onchange="changeBackgroundColor()">
            <option value="white">White</option>
            <option value="lightblue">Lightblue</option>
            <option value="lightgreen">Light Green</option>
            <option value="pink">Pink</option>
        </select>
    </div>
    <div id="eventLog"></div>
    <script>
        //mouse events
        function handleMouseOver(){
            document.getElementById('mouseBox').style.backgroundColor = 'lightblue';
            document.getElementById('mouseBox').textContent = 'Mouse is over me!';
            logEvent('Mouse entered the box');
        }
        function handleMouseOut(){
            document.getElementById('mouseBox').textContent ='Hover over me!';
            logEvent('Mouse left the box');
        }
        //keyboard events
        function handleKeyPress(){
            let inputvalue = 
            document.getElementById('textInput').value;
            let output =
            document.getElementById('keyOutput');
            if (inputvalue.length === 0){
                output.textContent = '';
            }
            else{
                output.textContent = `You typed: "${inputvalue}" (${inputvalue.length} characters)`; 
            }
            logEvent(`User Typed: ${inputvalue}`);
        }
        function handleFocus(){
            document.getElementById('textInput').classList.add('highlight');
            logEvent('Input field focused');
        }
        function handleBlur(){
            document.getElementById('textInput').classList.remove('highlight');
            logEvent('Input field lost focus');
        }
        //form events
        function handleSubmit(event){
            event.preventDefault(); //prevent form from actually submitting;
            let email = document.getElementById('emailInput').value;
            logEvent(`Form submitted with email: ${email}`);
            alert(`Thank you! Email ${email} has been submitted.`);
        }
        //change events
        function changeBackgroundColor(){
            let selectedColor = document.getElementById('colorSelect').value;
            document.body.style.backgroundColor = selectedColor;
            logEvent(`Background color changed to: ${selectedColor}`);
        }
        //utility function to log events
        function logEvent(message){
            let eventLog = document.getElementById('eventLog');
            let timestamp = new Date().toLocaleTimeString();
            let newLogEntry = `[${timestamp}] ${message}`;
            //add new entry to the top
            if (eventLog.innerHTML === '') {
                eventLog.innerHTML = `<strong>Event Log:</strong><br>${newLogEntry}`;
                
            }else{
                eventLog.innerHTML = eventLog.innerHTML + `<br>${newLogEntry}`;

            }
            console.log(newLogEntry); //log to console.
        }
        //initialize page
        logEvent('Page loaded successfully');
    </script>
</body>
</html>